var rogueLikeLike;rogueLikeLike=angular.module("rogueLikeLike",[]),rogueLikeLike.value("boardConfig",{xLimit:512,yLimit:512,spacing:8}),function(t,i){"use strict";return i.factory("GridMaker",function(t){var i;return i=function(){function i(i){this.context=i,this.xLimit=t.xLimit,this.yLimit=t.yLimit,this.spacing=t.spacing,this.gridlines=this.calculateGrid(),this.drawGrid()}return i.prototype.drawGrid=function(){var t,i,e,n,o,r,s,u;for(r=this.gridlines.vertical,i=0,n=r.length;n>i;i++)t=r[i],this.verticalLine(t);for(s=this.gridlines.horizontal,u=[],e=0,o=s.length;o>e;e++)t=s[e],u.push(this.horizontalLine(t));return u},i.prototype.calculateGrid=function(){var t,i;return{vertical:function(){t=[];for(var i=0,e=this.xLimit;e>=0?e>=i:i>=e;e>=0?i++:i--)t.push(i);return t}.apply(this).filter(function(t){return function(i){return i%t.spacing===0}}(this)),horizontal:function(){i=[];for(var t=0,e=this.yLimit;e>=0?e>=t:t>=e;e>=0?t++:t--)i.push(t);return i}.apply(this).filter(function(t){return function(i){return i%t.spacing===0}}(this))}},i.prototype.drawLine=function(t,i,e,n){return this.context.beginPath(),this.context.moveTo(t,i),this.context.lineTo(e,n),this.context.stroke()},i.prototype.horizontalLine=function(t){return this.drawLine(0,t,this.xLimit,t)},i.prototype.verticalLine=function(t){return this.drawLine(t,0,t,this.yLimit)},i}()})}(angular,rogueLikeLike),function(t,i){"use strict";return i.factory("MessageFactory",function(t){var i;return i=function(){function i(i){this.scope=i,this.messages=[],this.ws=new WebSocket("ws://localhost:8080/"),this.setupWebsocketMethods(),t.info("MessageFactory constructed")}return i.prototype.add=function(t){this.scope.$apply(function(i){return function(){i.messages.push(t)}}(this))},i.prototype.setupWebsocketMethods=function(){this.ws.onopen=function(i){return function(){t.info("onopen called","CONNECT"),i.add("CONNECT")}}(this),this.ws.onclose=function(i){return function(){t.info("onclose called","DISCONNECT"),i.add("DISCONNECT")}}(this),this.ws.onmessage=function(i){return function(e){t.info("onmessage called","MESSAGE: "+e.data),i.add("MESSAGE: "+e.data)}}(this),this.ws.onerror=function(i){t.info("WEBSOCKET ERROR",i)}},i}()})}(angular,rogueLikeLike);var __bind=function(t,i){return function(){return t.apply(i,arguments)}};!function(t,i){"use strict";return i.factory("MouseTracker",function(){var t;return t=function(){function t(t,i){this.canvas=t,this.context=i,this.writeMessage=__bind(this.writeMessage,this),this.getMousePos=__bind(this.getMousePos,this),this.trackMovement=__bind(this.trackMovement,this),this.canvas.addEventListener("mousemove",this.trackMovement,!1)}return t.prototype.trackMovement=function(t){var i;this.mousePos=this.getMousePos(t),i="Mouse position: "+this.mousePos.x+", "+this.mousePos.y,this.writeMessage(i)},t.prototype.getMousePos=function(t){var i;return i=this.canvas.getBoundingClientRect(),{x:Math.floor(t.clientX-i.left),y:Math.floor(t.clientY-i.top)}},t.prototype.writeMessage=function(t){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font="10pt Calibri",this.context.fillStyle="black",this.context.fillText(t,5,10)},t}()})}(angular,rogueLikeLike),function(t,i){"use strict";return i.controller("MainController",function(t,i){t.board=i})}(angular,rogueLikeLike),function(t,i){"use strict";return i.controller("MessagesController",function(t,i,e){t.view=new e(t)})}(angular,rogueLikeLike),function(t,i){"use strict";return i.directive("gameBoard",function(t,i,e){return{restrict:"A",controller:function(){},link:function(t,n){var o,r,s,u;o=n[0],r=o.getContext("2d"),u=new e(o,r),s=new i(r),s.drawLine(0,0,25,25)}}})}(angular,rogueLikeLike);